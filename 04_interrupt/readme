中断控制器处理步骤：

1,判断中断是否是子中断，如果是执行2;否则，执行写入SUBSRCPND，继续判断是否子中断被屏蔽，如果被屏蔽，停止传递，否则继续;
2,把对应中断类型在SRCPND中的位，置位，表示该中断发生了但还没有处理;
3,判断该中断是否是快中断，如果是，直接传递给CPU处理;，否则进入4;4,判断该中断是否被屏蔽（主要是查看INTMSK寄存器，默认是全屏蔽），如果被屏蔽，中断传递结束，恢复现场;否则继续;
5,判断中断的优先级，确定先传递的中断;

6,把筛选出的最后中断，写入INTPND，表示CPU马上要处理的中断;传递给CPU处理;







==============================
CPU对中断的响应及中断函数调用处理：

1,CPU由硬件来强制工作模式切换到中断模式或快中断模式;
2,硬件自动把CPSR备份到中断模式的SPSR寄存器,并把CPSR的模式为改为中断模式值;
2,把要执行的下一条指令写入中断模式的LR寄存器（中断模式下的LR，硬件一般会做PC-4直接写入LR，但是不一定复合真正返回点，所以可能要再处理一下）;
3,强制程序跳转到普通或快中断的异常向量入口地址（0x18,0x1c）

4,汇编实现部分寄存器的保存，入栈;
5,调用中断处理函数（c程序）;
6,汇编实现保存的寄存器的恢复，并把SPSR寄存器恢复，同时pc也被LR写入;




